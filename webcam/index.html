<!DOCTYPE html>
<html>
    <head>
        <link rel="stylesheet" href="style.css">
        <script src="../aosTools.js"></script>
        <!--<script src="browserfs.min.js"></script>-->
        <script src="fix-webm-duration.js"></script>
        <script defer src="script.js"></script>
    </head>
    <body>
        <div class="winHTML">
            <video autoplay="true" id="video" muted oncanplay="feedReady()"></video>
            <canvas class="inter" id="intermediate"></canvas>
            <canvas class="inter" id="intermediate2"></canvas>
            <div id="controls">
                <div id="motionmenu" class="nodisplay">
                    Sensitivity: <input id="motionsensitivity" type="number" value="90" min="0.1" max="100" step="0.1" style="width:15vh">%
                    <br>
                    Threshold: <input id="motionthreshold" type="number" value="0.3" min="0.1" max="100" step="0.1" style="width:15vh">%
                    <br><br>
                    <button id="motionbutton" onclick="motionCamStart()">Motion Camera</button><br>
                </div>

                <div id="motioncontrols">
                    <img class="flaticon" id="motionmenubutton" onclick="toggleMotionMenu()" src="icons/motion.svg">
                    &nbsp;
                    <span id="motionIndicator">&nbsp; &nbsp; &nbsp;</span>
                    &nbsp;
                    <span id="motionamount"></span>
                </div>

                <div id="maincontrols">
                    <img class="flaticon" id="photobutton" onclick="takeImage()" src="icons/picture.svg">
                    &nbsp;
                    <span id="saveCount">0</span>
                    &nbsp;
                    <img class="flaticon" id="recordbutton" onclick="recordVideo()" src="icons/video.svg">
                </div>

                <div id="rightcontrols">
                    <img class="flaticon" id="gallerybutton" onclick="toggleOutput()" src="icons/gallery.svg">
                    &nbsp;
                    <img class="flaticon" id="folderbutton" onclick="setOutputDir()" src="icons/folder.svg">
                    &nbsp;
                    <img class="flaticon" id="helpbutton" onclick="toggleHelp()" src="icons/help.svg">
                    &nbsp;
                </div>
            </div>
            <div id="warnings" style="display:none"></div>
            <div id="output" class="nodisplay">

            </div>
            <div id="help" class="nodisplay">
                <h1>Controls</h1>

                <img class="flaticon" style="background:none;cursor:none;" src="icons/picture.svg">
                Take a still photo.
                <br><br>
                <img class="flaticon" style="background:none;cursor:none;" src="icons/video.svg">
                Record a video.
                <br><br>
                <img class="flaticon" style="background:none;cursor:none;" src="icons/motion.svg">
                Motion Camera, motion-activated video recorder.

                <h1>Output</h1>

                <img class="flaticon" style="background:none;cursor:none;" src="icons/gallery.svg">
                View temporary media Gallery. Manually save your files!
                <br><br>
                <img class="flaticon" style="background:none;cursor:none;" src="icons/folder.svg">
                Select a real output folder on your device.

                <h1>Motion Camera</h1>

                Sensitivity controls the intensity of change required to see motion.
                <br><br>
                Threshold controls how much motions is required to start recording.
                <br><br>
                If red sensor blobs appear from nowhere, try lowering sensitivity.
                <br>
                If a moving object has no red outline, try raising sensitivity.
                <br><br>
                If a moving object has a red outline but not recording, try lowering the threshold.
                <br>
                If you want to ignore a constant moving object in your scene, try raising the threshold.
                <br><br>

                <div style="text-align:center;position:relative;">&nbsp; UI Icons: Uicons by <a href="https://www.flaticon.com/uicons" target="_blank"><img class="flaticon" src="icons/flaticon.svg" style="filter:invert(0);margin-bottom:-0.4em;background:none !important;"></a></div>
            </div>
        </div>
    </body>
</html>